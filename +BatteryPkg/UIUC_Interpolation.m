
function [OutputVoltage] = UIUC_Interpolation(InputAmperage,InputCapacity)
% Use data from Matthew Clarke of the LEADS lab at University of Illinois
% at Urbana-Champaign to get out a battery voltage after a certain capacity
% has been extracted at a certain amperage. single cell data


% Amps
Amp = [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8]';

% Capacity in Milliamp hours
Cap = 1e3.*[0 0.048513558937799 0.178967034856906 0.368628002782924 0.677219890090133 0.938361358004425 1.294403664704549 1.615080947132260 1.947562205389179 2.333466225776444 2.570999742032317 2.898212205780040 3.005855084699390 3.060075201488396 3.084386701375046                 0 0.048513558937799 0.178967034856906 0.368628002782924 0.677219890090133 0.938361358004425 1.294403664704549 1.615080947132260 1.947562205389179 2.333466225776444 2.570999742032317 2.898212205780040 3.005855084699390 3.060075201488396 3.084386701375046                 0 0.055415343191117 0.136713930525503 0.228066556913511 0.309338893493188 0.482121360989129 0.721042604974893 0.899035847280609 1.077002838831616 1.260075602173562 1.458439430133617 1.707624719210677 1.946677216969988 2.180597692183650 2.378987770898413 2.526530137741460 2.643595378367127 2.781031204647133 2.903359721591996 2.959470709782905 3.015712951747362                 0 0.031734643192229 0.141039792483029 0.333848446382251 0.563496881726365 0.709752193829682 0.960593851757824 1.190628621888626 1.394475412550362 1.587891163971522 1.718555107897787 1.911970859318947 2.058336552789890 2.257023014515150 2.476681936089189 2.581378663281638 2.769799657817761 2.979358684254098 3.115790054638777                 0 0.067869479087113 0.160840624769821 0.357122089078933 0.600201201003291 0.848558447146939 1.071094897868200 1.283210764835182 1.567863664029215 1.831756806525270 2.106070532775605 2.338973293377425 2.540831398211288 2.747886226453861 2.892878880097383 3.100150803834837]';

% voltage
Volt = [3.844504115757135 3.805422011678901 3.791397950329495 3.786109612813958 3.711228629722568 3.643605919185760 3.561466663539786 3.447175253863653 3.340962923008372 3.219659482657537 3.135878614479023 2.918775357050726 2.754039539410427 2.604394831265683 2.501829225393401 3.844504115757135 3.805422011678901 3.791397950329495 3.786109612813958 3.711228629722568 3.643605919185760 3.561466663539786 3.447175253863653 3.340962923008372 3.219659482657537 3.135878614479023 2.918775357050726 2.754039539410427 2.604394831265683 2.501829225393401 3.682249614676421 3.636640803423098 3.630329371969444 3.655203837110316 3.656643878511507 3.636449547924503 3.586419359556587 3.527557667282934 3.476447447864126 3.417675758178047 3.343671130545002 3.262815055932858 3.174027503290719 3.100652893770696 3.018896793282806 2.951743612628862 2.884050416449472 2.801214284910691 2.679350781334963 2.610577554104680 2.503046962600175 3.476358676369715 3.437094447028771 3.470575481144497 3.497445459777818 3.477281149227724 3.447856630372222 3.380409672561558 3.304695938754110 3.244439538605884 3.184017566406220 3.146409057579652 3.085987085379988 3.040691302736670 2.972416484668817 2.888601546916024 2.834707844173047 2.742460558372033 2.610866257204356 2.493984215464430 3.346546437114026 3.308074014056933 3.333160173831465 3.383495315001686 3.355827269520181 3.296746281270474 3.229384650573171 3.185480963438793 3.095475497284368 3.028765153071708 2.938596865296123 2.863524467825285 2.795837193885661 2.720357742361922 2.651774949505914 2.513306790824614]';

% create interpolant from data
Interpolate = scatteredInterpolant(Amp,Cap,Volt);

% use interpolant
OutputVoltage = Interpolate(InputAmperage,InputCapacity);

end

